<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoneyWiseGuide â€“ Recurring Deposit Calculator (â‚¹ INR)</title>
    <link rel="icon" type="image/png" href="https://page.gensparksite.com/v1/base64_upload/415cfa8f4313163509e7eeacb4384ed8">
    
    <!-- CDN Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    
    <style>
        :root {
            --navy: #0B1F3B;
            --orange: #FF7A21;
            --white: #FFFFFF;
            --light-gray: #F7FAFC;
            --green: #10B981;
            --blue: #3B82F6;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            color: var(--navy);
            line-height: 1.6;
            background-color: var(--light-gray);
        }
        
        .brand-font {
            font-family: 'Poppins', sans-serif;
        }
        
        .bg-navy { background-color: var(--navy); }
        .bg-orange { background-color: var(--orange); }
        .bg-green { background-color: var(--green); }
        .bg-blue { background-color: var(--blue); }
        .text-navy { color: var(--navy); }
        .text-orange { color: var(--orange); }
        .text-green { color: var(--green); }
        .text-blue { color: var(--blue); }
        .border-orange { border-color: var(--orange); }
        .border-green { border-color: var(--green); }
        .border-blue { border-color: var(--blue); }
        
        .hero-gradient {
            background: linear-gradient(135deg, var(--navy) 0%, #1a365d 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
            border: 2px solid transparent;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .card-hover:hover {
            transform: translateY(-4px);
            border-color: var(--orange);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .btn-primary {
            background-color: var(--orange);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-primary:hover {
            background-color: #e5651d;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background-color: transparent;
            color: var(--orange);
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid var(--orange);
            cursor: pointer;
        }
        
        .btn-secondary:hover {
            background-color: var(--orange);
            color: white;
        }
        
        .btn-success {
            background-color: var(--green);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-success:hover {
            background-color: #059669;
            transform: translateY(-2px);
        }
        
        .btn-info {
            background-color: var(--blue);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-info:hover {
            background-color: #2563eb;
            transform: translateY(-2px);
        }
        
        .nav-link {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            background-color: var(--orange);
            color: white;
        }
        
        .dropdown {
            position: relative;
            display: inline-block;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: white;
            min-width: 250px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1000;
            border-radius: 8px;
            top: 100%;
            left: 0;
            margin-top: 8px;
        }
        
        .dropdown:hover .dropdown-content {
            display: block;
        }
        
        .dropdown-content a {
            color: var(--navy);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s;
        }
        
        .dropdown-content a:hover {
            background-color: #f1f1f1;
        }
        
        .input-field {
            transition: all 0.3s ease;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 12px 16px;
            width: 100%;
            font-size: 16px;
        }
        
        .input-field:focus {
            border-color: var(--orange);
            box-shadow: 0 0 0 3px rgba(255, 122, 33, 0.1);
            outline: none;
        }
        
        .period-input {
            width: 120px;
            display: inline-block;
            margin-right: 8px;
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--navy);
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 14px;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        .result-highlight {
            background: linear-gradient(135deg, var(--orange), #ff8c42);
            color: white;
            border-radius: 8px;
            padding: 20px;
            margin: 12px 0;
            text-align: center;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        
        .error-message {
            color: #e53e3e;
            font-size: 14px;
            margin-top: 4px;
        }
        
        .loading {
            display: none;
            color: var(--orange);
        }
        
        @media (max-width: 768px) {
            .desktop-nav {
                display: none;
            }
            
            .mobile-menu {
                display: block;
            }
            
            .period-input {
                width: 100px;
            }
        }
        
        .mobile-menu {
            display: none;
        }
        
        .mobile-menu-button {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        

    </style>
</head>
<body>
    <!-- Header -->
    <header class="bg-navy text-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo & Brand -->
                <div class="flex items-center space-x-3">
                    <img src="https://page.gensparksite.com/v1/base64_upload/415cfa8f4313163509e7eeacb4384ed8" alt="MoneyWiseGuide Logo" class="h-10 w-10">
                    <div class="brand-font text-2xl font-bold text-white">MoneyWiseGuide</div>
                </div>
                
                <!-- Desktop Navigation -->
                <nav class="desktop-nav hidden md:flex items-center space-x-6">
                    <a href="/" class="nav-link"><i class="fas fa-home mr-2"></i>Home</a>
                    
                    <!-- Calculators Dropdown -->
                    <div class="dropdown">
                        <a href="/calculators" class="nav-link"><i class="fas fa-calculator mr-2"></i>Calculators <i class="fas fa-chevron-down ml-1"></i></a>
                        <div class="dropdown-content">
                            <a href="/calculators/fixed-deposit"><i class="fas fa-university text-orange mr-2"></i>Fixed Deposit Calculator</a>
                            <a href="/calculators/recurring-deposit"><i class="fas fa-calendar-alt text-orange mr-2"></i>Recurring Deposit Calculator</a>
                            <a href="/calculators/savings"><i class="fas fa-piggy-bank text-orange mr-2"></i>Savings Calculator</a>
                            <a href="/calculators/loan"><i class="fas fa-coins text-orange mr-2"></i>Loan Payment Calculator</a>
                            <a href="/calculators/investment"><i class="fas fa-chart-line text-orange mr-2"></i>Investment Calculator</a>
                        </div>
                    </div>
                    
                    <!-- Tools Dropdown -->
                    <div class="dropdown">
                        <a href="/tools" class="nav-link"><i class="fas fa-tools mr-2"></i>Tools <i class="fas fa-chevron-down ml-1"></i></a>
                        <div class="dropdown-content">
                            <a href="/tools/budget-tracker"><i class="fas fa-chart-pie text-orange mr-2"></i>Budget Tracker</a>
                            <a href="/tools/expense-manager"><i class="fas fa-shopping-cart text-orange mr-2"></i>Expense Manager</a>
                            <a href="/tools/portfolio-tracker"><i class="fas fa-briefcase text-orange mr-2"></i>Portfolio Tracker</a>
                        </div>
                    </div>
                    
                    <a href="/blogs" class="nav-link"><i class="fas fa-blog mr-2"></i>Blogs</a>
                </nav>
                
                <!-- Auth Buttons -->
                <div class="hidden md:flex items-center space-x-3">
                    <a href="/login" class="btn-secondary text-sm">
                        <i class="fas fa-sign-in-alt mr-2"></i>Login
                    </a>
                    <a href="/register" class="btn-primary text-sm">
                        <i class="fas fa-user-plus mr-2"></i>Register
                    </a>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="mobile-menu md:hidden">
                    <button class="mobile-menu-button" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Breadcrumb -->
    <div class="bg-white py-3 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <nav class="text-sm">
                <a href="/" class="text-orange hover:underline">Home</a> 
                <span class="mx-2 text-gray-500">/</span>
                <a href="/calculators" class="text-orange hover:underline">Calculators</a> 
                <span class="mx-2 text-gray-500">/</span>
                <span class="text-gray-700">Recurring Deposit Calculator</span>
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <!-- Page Header -->
        <div class="text-center mb-12">
            <h1 class="brand-font text-5xl font-bold text-navy mb-6">Recurring Deposit Calculator</h1>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">Calculate your Recurring Deposit returns with accurate quarterly compounding methodology. Get detailed analysis with PDF and Excel export capabilities.</p>
        </div>

        <div class="grid lg:grid-cols-2 gap-12">
            <!-- Calculator Form -->
            <div class="card-hover p-8">
                <h2 class="brand-font text-3xl font-semibold text-navy mb-8 flex items-center">
                    <i class="fas fa-calendar-alt text-orange mr-4 text-2xl"></i>
                    RD Parameters
                </h2>
                
                <form id="rdForm" class="space-y-8">
                    <!-- Monthly Deposit -->
                    <div>
                        <label for="monthlyDeposit" class="block text-lg font-semibold text-navy mb-3">
                            Monthly Deposit Amount (â‚¹)
                            <span class="tooltip ml-2">
                                <i class="fas fa-info-circle text-orange cursor-help"></i>
                                <span class="tooltiptext">The fixed amount you will deposit every month in your RD account</span>
                            </span>
                        </label>
                        <input type="number" id="monthlyDeposit" name="monthlyDeposit" 
                               class="input-field text-lg" 
                               placeholder="Enter monthly deposit amount" value="5000" min="500" step="500">
                        <div id="monthlyDepositError" class="error-message"></div>
                    </div>

                    <!-- Annual Interest Rate -->
                    <div>
                        <label for="annualRate" class="block text-lg font-semibold text-navy mb-3">
                            Annual Interest Rate (%)
                            <span class="tooltip ml-2">
                                <i class="fas fa-info-circle text-orange cursor-help"></i>
                                <span class="tooltiptext">Recurring Deposit interest rate offered by your bank</span>
                            </span>
                        </label>
                        <input type="number" id="annualRate" name="annualRate" 
                               class="input-field text-lg" 
                               placeholder="Enter interest rate" value="7.0" min="0" max="20" step="0.1">
                        <div id="annualRateError" class="error-message"></div>
                    </div>

                    <!-- Time Period -->
                    <div>
                        <label class="block text-lg font-semibold text-navy mb-3">
                            Time Period
                            <span class="tooltip ml-2">
                                <i class="fas fa-info-circle text-orange cursor-help"></i>
                                <span class="tooltiptext">Duration for which you want to continue your RD</span>
                            </span>
                        </label>
                        <div class="grid grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-600 mb-1">Years</label>
                                <input type="number" id="years" name="years" 
                                       class="input-field period-input text-lg" 
                                       placeholder="0" value="5" min="0" max="10" step="1">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-600 mb-1">Months</label>
                                <input type="number" id="months" name="months" 
                                       class="input-field period-input text-lg" 
                                       placeholder="0" value="0" min="0" max="11" step="1">
                            </div>
                        </div>
                        <div id="timePeriodError" class="error-message"></div>
                    </div>

                    <!-- Auto-calculation Notice -->
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 text-center">
                        <i class="fas fa-magic text-blue mr-2"></i>
                        <span class="text-blue font-semibold">Results update automatically as you change values</span>
                        <span class="loading ml-3" style="display: none;">
                            <i class="fas fa-spinner fa-spin text-blue"></i>
                        </span>
                    </div>
                </form>
            </div>

            <!-- Results Section -->
            <div class="card-hover p-8">
                <h2 class="brand-font text-3xl font-semibold text-navy mb-8 flex items-center">
                    <i class="fas fa-chart-pie text-orange mr-4 text-2xl"></i>
                    Investment Projection
                </h2>
                
                <div id="results" class="hidden">
                    <!-- Key Results -->
                    <div class="space-y-6 mb-8">
                        <div class="result-highlight">
                            <h3 class="text-2xl font-bold mb-3">Investment Value at Maturity</h3>
                            <p class="text-4xl font-bold" id="investmentValue">â‚¹0</p>
                        </div>
                        
                        <div class="bg-gray-50 p-6 rounded-lg space-y-4">
                            <div class="flex justify-between items-center">
                                <span class="font-semibold text-lg">Total Deposits:</span>
                                <span class="font-bold text-xl text-navy" id="totalDeposits">â‚¹0</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="font-semibold text-lg">Interest Earned:</span>
                                <span class="font-bold text-xl text-green-600" id="totalInterest">â‚¹0</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="font-semibold text-lg">Monthly Commitment:</span>
                                <span class="font-bold text-xl text-orange" id="monthlyCommitment">â‚¹0</span>
                            </div>
                            <div class="flex justify-between items-center border-t pt-4">
                                <span class="font-semibold text-lg">Effective Return Rate:</span>
                                <span class="font-bold text-xl text-orange" id="effectiveRate">0%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Chart -->
                    <div class="chart-container mb-8">
                        <canvas id="rdChart"></canvas>
                    </div>



                    <!-- Additional Insights -->
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <h4 class="font-bold text-navy mb-4 text-lg">
                            <i class="fas fa-lightbulb text-orange mr-2"></i>
                            Key Insights
                        </h4>
                        <ul class="space-y-2" id="insights">
                            <!-- Dynamic insights will be added here -->
                        </ul>
                    </div>
                </div>

                <div id="noResults" class="text-center py-16 text-gray-500">
                    <i class="fas fa-calendar-alt text-8xl mb-6 opacity-50"></i>
                    <p class="text-xl">Enter your RD details and click calculate to see your investment projection</p>
                </div>
            </div>
        </div>



        <!-- Educational Content -->
        <div class="mt-16 grid md:grid-cols-2 gap-12">
            <div class="card-hover p-8">
                <h3 class="brand-font text-2xl font-bold text-navy mb-6">
                    <i class="fas fa-graduation-cap text-orange mr-3"></i>
                    RD Calculation Methodology
                </h3>
                <p class="text-gray-700 mb-6 text-lg">Our calculator uses the corrected RD formula with quarterly compounding as per Indian banking practices:</p>
                <ul class="space-y-3">
                    <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i><span><strong>Method:</strong> Each monthly deposit compounds individually</span></li>
                    <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i><span><strong>Compounding:</strong> Quarterly (every 3 months)</span></li>
                    <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i><span><strong>Rate Calculation:</strong> Quarterly Rate = Annual Rate Ã· 4</span></li>
                    <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i><span><strong>Accuracy:</strong> Matches major Indian banks (SBI, HDFC, ICICI)</span></li>
                </ul>
            </div>
            
            <div class="card-hover p-8">
                <h3 class="brand-font text-2xl font-bold text-navy mb-6">
                    <i class="fas fa-lightbulb text-orange mr-3"></i>
                    RD Investment Tips
                </h3>
                <ul class="space-y-3">
                    <li class="flex items-start"><i class="fas fa-star text-orange mr-3 mt-1"></i><span>Start with an amount you can comfortably save monthly</span></li>
                    <li class="flex items-start"><i class="fas fa-star text-orange mr-3 mt-1"></i><span>Set up auto-debit to avoid missing payments</span></li>
                    <li class="flex items-start"><i class="fas fa-star text-orange mr-3 mt-1"></i><span>Compare RD rates across different banks</span></li>
                    <li class="flex items-start"><i class="fas fa-star text-orange mr-3 mt-1"></i><span>Senior citizens get 0.25-0.50% extra interest</span></li>
                    <li class="flex items-start"><i class="fas fa-star text-orange mr-3 mt-1"></i><span>Premature withdrawal reduces returns significantly</span></li>
                </ul>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-navy text-white py-12 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-3 mb-6">
                        <img src="https://page.gensparksite.com/v1/base64_upload/415cfa8f4313163509e7eeacb4384ed8" alt="MoneyWiseGuide Logo" class="h-8 w-8">
                        <h3 class="brand-font text-xl font-bold">MoneyWiseGuide</h3>
                    </div>
                    <p class="text-gray-300">Making financial decisions simpler with smart calculators and tools.</p>
                </div>
                <div>
                    <h4 class="font-bold mb-4 text-lg">Calculators</h4>
                    <ul class="space-y-3">
                        <li><a href="/calculators/fixed-deposit" class="hover:text-orange">Fixed Deposit Calculator</a></li>
                        <li><a href="/calculators/recurring-deposit" class="hover:text-orange">Recurring Deposit Calculator</a></li>
                        <li><a href="/calculators/savings" class="hover:text-orange">Savings Calculator</a></li>
                        <li><a href="/calculators/loan" class="hover:text-orange">Loan Calculator</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4 text-lg">Tools</h4>
                    <ul class="space-y-3">
                        <li><a href="/tools/budget-tracker" class="hover:text-orange">Budget Tracker</a></li>
                        <li><a href="/tools/goal-planner" class="hover:text-orange">Goal Planner</a></li>
                        <li><a href="/tools/portfolio-tracker" class="hover:text-orange">Portfolio Tracker</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4 text-lg">Contact</h4>
                    <p class="text-gray-300">Build better financial habits with our comprehensive suite of tools.</p>
                </div>
            </div>
            <div class="border-t border-gray-600 mt-8 pt-6 text-center">
                <p class="text-gray-300">&copy; 2024 MoneyWiseGuide. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        let rdChart = null;
        let currentResults = null;
        
        // Currency formatter for Indian Rupees
        const formatCurrency = (amount) => {
            return new Intl.NumberFormat('en-IN', {
                style: 'currency',
                currency: 'INR',
                maximumFractionDigits: 0
            }).format(amount);
        };
        
        // Validate form inputs
        function validateInputs() {
            let isValid = true;
            const monthlyDeposit = parseFloat(document.getElementById('monthlyDeposit').value);
            const annualRate = parseFloat(document.getElementById('annualRate').value);
            const years = parseInt(document.getElementById('years').value) || 0;
            const months = parseInt(document.getElementById('months').value) || 0;
            
            // Clear previous errors
            document.querySelectorAll('.error-message').forEach(div => div.textContent = '');
            document.querySelectorAll('.input-field').forEach(input => input.classList.remove('border-red-500'));
            
            // Validate monthly deposit
            if (isNaN(monthlyDeposit) || monthlyDeposit < 500) {
                document.getElementById('monthlyDepositError').textContent = 'Minimum monthly deposit is â‚¹500';
                document.getElementById('monthlyDeposit').classList.add('border-red-500');
                isValid = false;
            }
            
            // Validate annual rate
            if (isNaN(annualRate) || annualRate <= 0 || annualRate > 20) {
                document.getElementById('annualRateError').textContent = 'Please enter a valid interest rate between 0.1% and 20%';
                document.getElementById('annualRate').classList.add('border-red-500');
                isValid = false;
            }
            
            // Validate time period
            const totalMonths = (years * 12) + months;
            if (totalMonths < 6) {
                document.getElementById('timePeriodError').textContent = 'Minimum RD tenure is 6 months';
                isValid = false;
            } else if (years > 10) {
                document.getElementById('timePeriodError').textContent = 'Maximum RD tenure is 10 years';
                isValid = false;
            }
            
            return isValid;
        }
        
        // Calculate total months from years and months
        function getTotalMonths() {
            const years = parseInt(document.getElementById('years').value) || 0;
            const months = parseInt(document.getElementById('months').value) || 0;
            return (years * 12) + months;
        }
        
        // Calculate Recurring Deposit returns using CORRECTED RD formula
        function calculateRD() {
            if (!validateInputs()) return;
            
            // Show loading
            document.querySelector('.loading').style.display = 'inline-block';
            
            // Get form values
            const monthlyDeposit = parseFloat(document.getElementById('monthlyDeposit').value);
            const annualRate = parseFloat(document.getElementById('annualRate').value) / 100;
            const totalMonths = getTotalMonths();
            const totalDeposits = monthlyDeposit * totalMonths;
            
            // CORRECTED RD calculation with quarterly compounding
            // Each monthly deposit compounds individually for remaining quarters
            const quarterlyRate = annualRate / 4; // Quarterly rate
            let investmentValue = 0;
            
            // Calculate maturity value for each monthly deposit
            for (let month = 1; month <= totalMonths; month++) {
                const remainingQuarters = (totalMonths - month + 1) / 3;
                const monthlyMaturityValue = monthlyDeposit * Math.pow(1 + quarterlyRate, remainingQuarters);
                investmentValue += monthlyMaturityValue;
            }
            
            const totalInterest = investmentValue - totalDeposits;
            const timeInYears = totalMonths / 12;
            const effectiveRate = totalInterest > 0 ? ((investmentValue / totalDeposits) ** (1 / timeInYears) - 1) * 100 : 0;
            

            
            // Store results globally for export
            currentResults = {
                investmentValue,
                totalDeposits,
                totalInterest,
                effectiveRate,

                inputs: {
                    monthlyDeposit,
                    annualRate: annualRate * 100,
                    totalMonths,
                    timeInYears
                }
            };
            
            // Update results
            setTimeout(() => {
                document.querySelector('.loading').style.display = 'none';
                updateResults(investmentValue, totalDeposits, totalInterest, effectiveRate, monthlyDeposit);
                createChart(totalDeposits, totalInterest);
                generateInsights(investmentValue, totalDeposits, totalInterest, effectiveRate, timeInYears, monthlyDeposit);

                
                document.getElementById('results').classList.remove('hidden');
                document.getElementById('noResults').classList.add('hidden');
            }, 800);
        }
        

        
        // Update results display
        function updateResults(investmentValue, deposits, interest, effectiveRate, monthlyAmount) {
            document.getElementById('investmentValue').textContent = formatCurrency(investmentValue);
            document.getElementById('totalDeposits').textContent = formatCurrency(deposits);
            document.getElementById('totalInterest').textContent = formatCurrency(interest);
            document.getElementById('monthlyCommitment').textContent = formatCurrency(monthlyAmount);
            document.getElementById('effectiveRate').textContent = effectiveRate.toFixed(2) + '%';
        }
        
        // Create chart
        function createChart(deposits, interest) {
            const ctx = document.getElementById('rdChart').getContext('2d');
            
            if (rdChart) {
                rdChart.destroy();
            }
            
            rdChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Total Deposits', 'Interest Earned'],
                    datasets: [{
                        data: [deposits, interest],
                        backgroundColor: ['#0B1F3B', '#FF7A21'],
                        borderWidth: 3,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'RD Investment Breakdown',
                            font: {
                                size: 16,
                                weight: 'bold'
                            }
                        },
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 25,
                                font: {
                                    size: 16,
                                    weight: 'bold'
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = formatCurrency(context.parsed);
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = ((context.parsed / total) * 100).toFixed(1);
                                    return `${label}: ${value} (${percentage}%)`;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // Generate insights based on calculations
        function generateInsights(investmentValue, deposits, interest, effectiveRate, years, monthlyAmount) {
            const insights = [];
            const interestPercentage = deposits > 0 ? (interest / deposits) * 100 : 0;
            const totalMonths = getTotalMonths();
            
            if (effectiveRate > 8) {
                insights.push('ðŸŽ‰ Excellent returns! Your RD is providing great value for systematic savings');
            } else if (effectiveRate > 6) {
                insights.push('ðŸ‘ Good returns for a disciplined savings approach');
            } else {
                insights.push('âš ï¸ Consider comparing RD rates with other banks for better returns');
            }
            
            if (years >= 5) {
                insights.push('â° Long-term RD maximizes the benefits of quarterly compounding');
            }
            
            if (monthlyAmount >= 10000) {
                insights.push('ðŸ’ª Excellent monthly discipline! You\'re building substantial wealth systematically');
            } else if (monthlyAmount >= 5000) {
                insights.push('ðŸ‘Œ Good monthly savings habit - consistency is key to wealth building');
            }
            
            insights.push(`ðŸ“ˆ Interest contributes ${interestPercentage.toFixed(1)}% to your final corpus`);
            insights.push(`ðŸŽ¯ You'll make ${totalMonths} monthly deposits over ${Math.floor(years)} years ${Math.floor((years % 1) * 12)} months`);
            insights.push(`ðŸ’¡ Average monthly growth: ${formatCurrency(interest / totalMonths)}`);
            insights.push(`ðŸ“Š Your money grows at ${effectiveRate.toFixed(2)}% effective annual rate`);
            
            const insightsList = document.getElementById('insights');
            insightsList.innerHTML = insights.map(insight => `<li class="text-base">${insight}</li>`).join('');
        }


        
        // Mobile menu toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu-content');
            if (menu) {
                menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
            }
        }
        
        // Auto-update functionality with debouncing
        let autoUpdateTimeout;
        
        function debounceAutoUpdate() {
            clearTimeout(autoUpdateTimeout);
            document.querySelector('.loading').style.display = 'inline-block';
            
            autoUpdateTimeout = setTimeout(() => {
                if (validateInputsQuietly()) {
                    calculateRD();
                } else {
                    document.querySelector('.loading').style.display = 'none';
                }
            }, 500); // 500ms delay
        }
        
        // Quiet validation without showing errors
        function validateInputsQuietly() {
            const monthlyDeposit = parseFloat(document.getElementById('monthlyDeposit').value);
            const annualRate = parseFloat(document.getElementById('annualRate').value);
            const years = parseInt(document.getElementById('years').value) || 0;
            const months = parseInt(document.getElementById('months').value) || 0;
            
            // Basic validation - must have valid numbers
            if (isNaN(monthlyDeposit) || monthlyDeposit < 100) return false;
            if (isNaN(annualRate) || annualRate <= 0 || annualRate > 20) return false;
            
            const totalMonths = (years * 12) + months;
            if (totalMonths < 6 || totalMonths > 120) return false;
            
            return true;
        }
        
        // Real-time input monitoring and auto-update
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('input[type="number"]');
            
            // Add input listeners for auto-update
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    this.classList.remove('border-red-500');
                    const errorDiv = document.getElementById(this.id + 'Error');
                    if (errorDiv) errorDiv.textContent = '';
                    
                    // Trigger auto-update
                    debounceAutoUpdate();
                });
            });
            
            // Initial calculation with default values
            setTimeout(() => {
                if (validateInputsQuietly()) {
                    calculateRD();
                }
            }, 100);
        });
        
        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                calculateRD();

            }
        });
    </script>
</body>
</html>